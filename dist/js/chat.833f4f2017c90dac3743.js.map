{"version":3,"file":"js/chat.833f4f2017c90dac3743.js","mappings":"uBAAIA,E,gsBCGoB,IAElBC,EAAO,WAYV,O,EAXD,SAAAA,K,4FAAcC,CAAA,KAAAD,GACZE,KAAKC,OAAS,KACdD,KAAKE,YAAc,KACnBF,KAAKG,KAAO,KACZH,KAAKI,UAAW,EAChBJ,KAAKK,cAAgB,KAErBL,KAAKM,qBACLN,KAAKO,mBACLP,KAAKQ,aACLR,KAAKS,cACP,E,EAAC,EAAAC,IAAA,qBAAAC,MAED,WACEX,KAAKY,cAAgBC,SAASC,eAAe,kBAC7Cd,KAAKe,YAAcF,SAASC,eAAe,gBAC3Cd,KAAKgB,aAAeH,SAASC,eAAe,iBAC5Cd,KAAKiB,WAAaJ,SAASC,eAAe,eAC1Cd,KAAKkB,SAAWL,SAASC,eAAe,aACxCd,KAAKmB,SAAWN,SAASC,eAAe,aACxCd,KAAKoB,gBAAkBP,SAASC,eAAe,oBAC/Cd,KAAKqB,WAAaR,SAASC,eAAe,eAC1Cd,KAAKsB,aAAeT,SAASC,eAAe,iBAC5Cd,KAAKuB,YAAcV,SAASC,eAAe,eAC7C,GAAC,CAAAJ,IAAA,mBAAAC,MAED,WAAmB,IAAAa,EAAA,KACjBxB,KAAKC,QAASwB,EAAAA,EAAAA,MAEdzB,KAAKC,OAAOyB,GAAG,UAAW,WACxBC,QAAQC,IAAI,uBACZJ,EAAKK,uBAAuB,YAC9B,GAEA7B,KAAKC,OAAOyB,GAAG,aAAc,WAC3BC,QAAQC,IAAI,4BACZJ,EAAKK,uBAAuB,eAC9B,GAEA7B,KAAKC,OAAOyB,GAAG,mBAAoB,SAACI,GAClCN,EAAKO,eAAeD,EACtB,GAEA9B,KAAKC,OAAOyB,GAAG,YAAa,SAACI,GAC3BN,EAAKQ,eAAeF,EACtB,GAEA9B,KAAKC,OAAOyB,GAAG,aAAc,SAACI,GAC5BN,EAAKS,gBAAgBH,EACvB,GAEA9B,KAAKC,OAAOyB,GAAG,eAAgB,SAACI,GAC9BN,EAAKU,oBAAoBJ,EAAKK,OAChC,GAEAnC,KAAKC,OAAOyB,GAAG,cAAe,SAACI,GAC7BN,EAAKY,oBAAoBN,EAAKK,OAChC,GAEAnC,KAAKC,OAAOyB,GAAG,eAAgB,SAACI,GAC9BN,EAAKa,kBAAkBP,EACzB,EACF,GAAC,CAAApB,IAAA,aAAAC,MAED,WAAa,IAAA2B,EAAA,KAEXtC,KAAKiB,WAAWsB,iBAAiB,QAAS,WACxCD,EAAKE,aACP,GAEAxC,KAAKgB,aAAauB,iBAAiB,WAAY,SAACE,GAChC,UAAVA,EAAE/B,KAAoB+B,EAAEC,WAC1BD,EAAEE,iBACFL,EAAKE,cAET,GAGAxC,KAAKgB,aAAauB,iBAAiB,QAAS,WAC1CD,EAAKM,cACP,GAGA5C,KAAKqB,WAAWkB,iBAAiB,SAAU,SAACE,GAC1CH,EAAKO,SAASJ,EAAEK,OAAOnC,MACzB,GAGAX,KAAKsB,aAAaiB,iBAAiB,SAAU,SAACE,GAC5CH,EAAKS,aAAaN,EAAEK,OAAOnC,MAC7B,GAGAX,KAAKuB,YAAYgB,iBAAiB,SAAU,SAACE,GAC3CH,EAAKU,cAAcP,EAAEK,OAAOnC,MAC9B,EACF,GAAC,CAAAD,IAAA,eAAAC,MAED,WACE,IAAMsC,EAAWC,aAAaC,QAAQ,QAClCF,GACFjD,KAAKG,KAAOiD,KAAKC,MAAMJ,GACvBjD,KAAKsD,kBAGLC,OAAOC,SAASC,KAAO,GAE3B,GAAC,CAAA/C,IAAA,cAAAC,MAED,WACE,IAAM+C,EAAU1D,KAAKgB,aAAaL,MAAMgD,OACxC,GAAKD,GAAY1D,KAAKE,YAAtB,CAEA,IAAM0D,EAAc,CAClBC,OAAQ7D,KAAKE,YACb4D,QAASJ,EACTK,KAAM,QAGR/D,KAAKC,OAAO+D,KAAK,eAAgBJ,GACjC5D,KAAKgB,aAAaL,MAAQ,GAC1BX,KAAKiE,YAVoC,CAW3C,GAAC,CAAAvD,IAAA,iBAAAC,MAED,SAAemB,GACb,IAAMoC,EAAiBrD,SAASsD,cAAc,OAC9CD,EAAeE,UAAY,UAE3B,IAAMC,EAAY,IAAIC,KAAKxC,EAAKuC,WAAWE,qBAE3CL,EAAeM,UAAY,wEAAHC,OAEK3C,EAAK4C,UAAY,YAAW,6CAAAD,OAC3BJ,EAAS,8DAAAI,OAENzE,KAAK2E,WAAW7C,EAAKgC,SAAQ,gBAG9D9D,KAAKe,YAAY6D,YAAYV,GAC7BlE,KAAK6E,gBACP,GAAC,CAAAnE,IAAA,iBAAAC,MAED,SAAemB,GACb,IAAMgD,EAAcjE,SAASsD,cAAc,OAC3CW,EAAYV,UAAY,sBACxBU,EAAYC,YAAc,GAAHN,OAAM3C,EAAK4C,UAAY,YAAW,oBAEzD1E,KAAKe,YAAY6D,YAAYE,GAC7B9E,KAAK6E,iBACL7E,KAAKgF,gBACP,GAAC,CAAAtE,IAAA,kBAAAC,MAED,SAAgBmB,GACd,IAAMmD,EAAepE,SAASsD,cAAc,OAC5Cc,EAAab,UAAY,uBACzBa,EAAaF,YAAc,GAAHN,OAAM3C,EAAK4C,UAAY,YAAW,kBAE1D1E,KAAKe,YAAY6D,YAAYK,GAC7BjF,KAAK6E,iBACL7E,KAAKgF,gBACP,GAAC,CAAAtE,IAAA,WAAAC,MAED,SAASkD,GACH7D,KAAKE,aACPF,KAAKC,OAAO+D,KAAK,aAAchE,KAAKE,aAGtCF,KAAKE,YAAc2D,EACnB7D,KAAKC,OAAO+D,KAAK,YAAaH,GAG9B7D,KAAKe,YAAYyD,UAAY,GAG7BxE,KAAKkF,eAAerB,EACtB,GAAC,CAAAnD,IAAA,eAAAC,MAED,WAAe,IAAAwE,EAAA,KACRnF,KAAKI,WACRJ,KAAKI,UAAW,EAChBJ,KAAKC,OAAO+D,KAAK,eAAgBhE,KAAKE,cAGxCkF,aAAapF,KAAKK,eAClBL,KAAKK,cAAgBgF,WAAW,WAC9BF,EAAKlB,YACP,EAAG,IACL,GAAC,CAAAvD,IAAA,aAAAC,MAED,WACMX,KAAKI,WACPJ,KAAKI,UAAW,EAChBJ,KAAKC,OAAO+D,KAAK,cAAehE,KAAKE,aAEzC,GAAC,CAAAQ,IAAA,sBAAAC,MAED,SAAoBwB,GACdA,IAAWnC,KAAKC,OAAOqF,KACzBtF,KAAKoB,gBAAgB2D,YAAc,uBACnC/E,KAAKoB,gBAAgBmE,MAAMC,QAAU,QAEzC,GAAC,CAAA9E,IAAA,sBAAAC,MAED,SAAoBwB,GACdA,IAAWnC,KAAKC,OAAOqF,KACzBtF,KAAKoB,gBAAgBmE,MAAMC,QAAU,OAEzC,GAAC,CAAA9E,IAAA,eAAAC,MAED,SAAa8E,GAEXzF,KAAKC,OAAO+D,KAAK,gBAAiB,CAAEyB,SAAAA,GACtC,GAAC,CAAA/E,IAAA,gBAAAC,MAED,SAAc+E,GACR1F,KAAKE,aACPF,KAAKC,OAAO+D,KAAK,iBAAkB,CACjCH,OAAQ7D,KAAKE,YACbwF,QAASA,GAGf,GAAC,CAAAhF,IAAA,oBAAAC,MAED,SAAkBmB,GAEhBH,QAAQC,IAAI,gBAAiBE,GAGzBA,EAAK6D,OACP3F,KAAK4F,UAAU9D,EAAK6D,OAIlB7D,EAAK+D,WACP7F,KAAK8F,cAAchE,EAAK+D,UAE5B,GAAC,CAAAnF,IAAA,YAAAC,MAED,SAAUoF,GACM,IAAIC,MAAM,WAADvB,OAAYsB,IAC7BE,OAAM,MAAO,SAAAxD,GAAC,OAAId,QAAQC,IAAI,qBAAsBa,EAAE,EAC9D,GAAC,CAAA/B,IAAA,gBAAAC,MAED,SAAcuF,GAEZ,IAAMC,EAAmBtF,SAASsD,cAAc,OAChDgC,EAAiB/B,UAAY,mBAAHK,OAAsByB,GAChDlG,KAAKY,cAAcgE,YAAYuB,GAG/Bd,WAAW,WACTc,EAAiBC,QACnB,EAAG,IACL,GAAC,CAAA1F,IAAA,yBAAAC,MAED,SAAuB0F,GACrB,IAAMC,EAAgBzF,SAASC,eAAe,qBAC1CwF,IACFA,EAAcvB,YAAcsB,EAC5BC,EAAclC,UAAY,UAAHK,OAAa4B,EAAOE,eAE/C,GAAC,CAAA7F,IAAA,iBAAAC,MAED,WACE,IAAM6F,EAAkB3F,SAASC,eAAe,aAC5C0F,GAAmBxG,KAAKG,OAC1BqG,EAAgBhC,UAAY,oCAAHC,OACEzE,KAAKG,KAAKuE,SAAQ,+CAAAD,OACfzE,KAAKG,KAAKsG,OAAS,EAAC,mBAGtD,GAAC,CAAA/F,IAAA,iBAAAC,MAED,SAAekD,GACT7D,KAAKkB,WACPlB,KAAKkB,SAASsD,UAAY,uBAAHC,OACTZ,EAAM,kEAIxB,GAAC,CAAAnD,IAAA,iBAAAC,MAED,WAEMX,KAAKmB,WACPnB,KAAKmB,SAASqD,UAAY,gDAE9B,GAAC,CAAA9D,IAAA,iBAAAC,MAED,WACEX,KAAKe,YAAY2F,UAAY1G,KAAKe,YAAY4F,YAChD,GAAC,CAAAjG,IAAA,aAAAC,MAED,SAAWiG,GACT,IAAMC,EAAMhG,SAASsD,cAAc,OAEnC,OADA0C,EAAI9B,YAAc6B,EACXC,EAAIrC,SACb,I,gFAAC,CA1SU,GA8Sb3D,SAAS0B,iBAAiB,mBAAoB,WAC5C,IAAIzC,CACN,E,GCpTIgH,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,CAAC,GAOX,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,OACf,CAGAJ,EAAoBO,EAAID,EFzBpBxH,EAAW,GACfkH,EAAoBQ,EAAI,CAACC,EAAQC,EAAUC,EAAIC,KAC9C,IAAGF,EAAH,CAMA,IAAIG,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIjI,EAASkI,OAAQD,IAAK,CAGzC,IAFA,IAAKL,EAAUC,EAAIC,GAAY9H,EAASiI,GACpCE,GAAY,EACPC,EAAI,EAAGA,EAAIR,EAASM,OAAQE,MACpB,EAAXN,GAAsBC,GAAgBD,IAAaO,OAAOC,KAAKpB,EAAoBQ,GAAGa,MAAO1H,GAASqG,EAAoBQ,EAAE7G,GAAK+G,EAASQ,KAC9IR,EAASY,OAAOJ,IAAK,IAErBD,GAAY,EACTL,EAAWC,IAAcA,EAAeD,IAG7C,GAAGK,EAAW,CACbnI,EAASwI,OAAOP,IAAK,GACrB,IAAIQ,EAAIZ,SACER,IAANoB,IAAiBd,EAASc,EAC/B,CACD,CACA,OAAOd,CAnBP,CAJCG,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIjI,EAASkI,OAAQD,EAAI,GAAKjI,EAASiI,EAAI,GAAG,GAAKH,EAAUG,IAAKjI,EAASiI,GAAKjI,EAASiI,EAAI,GACrGjI,EAASiI,GAAK,CAACL,EAAUC,EAAIC,IGJ/BZ,EAAoBwB,EAAI,CAACpB,EAASqB,KACjC,IAAI,IAAI9H,KAAO8H,EACXzB,EAAoB0B,EAAED,EAAY9H,KAASqG,EAAoB0B,EAAEtB,EAASzG,IAC5EwH,OAAOQ,eAAevB,EAASzG,EAAK,CAAEiI,YAAY,EAAMC,IAAKJ,EAAW9H,MCJ3EqG,EAAoB0B,EAAI,CAACI,EAAKC,IAAUZ,OAAOa,UAAUC,eAAeC,KAAKJ,EAAKC,GCClF/B,EAAoBuB,EAAKnB,IACH,oBAAX+B,QAA0BA,OAAOC,aAC1CjB,OAAOQ,eAAevB,EAAS+B,OAAOC,YAAa,CAAExI,MAAO,WAE7DuH,OAAOQ,eAAevB,EAAS,aAAc,CAAExG,OAAO,KCLvDoG,EAAoBkB,EAAI,I,MCKxB,IAAImB,EAAkB,CACrB,IAAK,GAaNrC,EAAoBQ,EAAEU,EAAKoB,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4BzH,KACvD,IAGIkF,EAAUqC,GAHT5B,EAAU+B,EAAaC,GAAW3H,EAGhBgG,EAAI,EAC3B,GAAGL,EAASiC,KAAMpE,GAAgC,IAAxB8D,EAAgB9D,IAAa,CACtD,IAAI0B,KAAYwC,EACZzC,EAAoB0B,EAAEe,EAAaxC,KACrCD,EAAoBO,EAAEN,GAAYwC,EAAYxC,IAGhD,GAAGyC,EAAS,IAAIjC,EAASiC,EAAQ1C,EAClC,CAEA,IADGwC,GAA4BA,EAA2BzH,GACrDgG,EAAIL,EAASM,OAAQD,IACzBuB,EAAU5B,EAASK,GAChBf,EAAoB0B,EAAEW,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOtC,EAAoBQ,EAAEC,IAG1BmC,EAAqBC,KAAiC,2BAAIA,KAAiC,4BAAK,GACpGD,EAAmBE,QAAQP,EAAqBQ,KAAK,KAAM,IAC3DH,EAAmBI,KAAOT,EAAqBQ,KAAK,KAAMH,EAAmBI,KAAKD,KAAKH,G,KC7CvF,IAAIK,EAAsBjD,EAAoBQ,OAAEL,EAAW,CAAC,IAAK,IAAOH,EAAoB,MAC5FiD,EAAsBjD,EAAoBQ,EAAEyC,E","sources":["webpack://xat-recreation/webpack/runtime/chunk loaded","webpack://xat-recreation/./src/client/chat.js","webpack://xat-recreation/webpack/bootstrap","webpack://xat-recreation/webpack/runtime/define property getters","webpack://xat-recreation/webpack/runtime/hasOwnProperty shorthand","webpack://xat-recreation/webpack/runtime/make namespace object","webpack://xat-recreation/webpack/runtime/runtimeId","webpack://xat-recreation/webpack/runtime/jsonp chunk loading","webpack://xat-recreation/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import io from 'socket.io-client';\r\nimport './css/normalize.css';\r\nimport './css/main.css';\r\nimport './css/chat.css';\r\n\r\nclass ChatApp {\r\n  constructor() {\r\n    this.socket = null;\r\n    this.currentRoom = null;\r\n    this.user = null;\r\n    this.isTyping = false;\r\n    this.typingTimeout = null;\r\n    \r\n    this.initializeElements();\r\n    this.initializeSocket();\r\n    this.bindEvents();\r\n    this.loadUserData();\r\n  }\r\n\r\n  initializeElements() {\r\n    this.chatContainer = document.getElementById('chat-container');\r\n    this.messageList = document.getElementById('message-list');\r\n    this.messageInput = document.getElementById('message-input');\r\n    this.sendButton = document.getElementById('send-button');\r\n    this.roomInfo = document.getElementById('room-info');\r\n    this.userList = document.getElementById('user-list');\r\n    this.typingIndicator = document.getElementById('typing-indicator');\r\n    this.roomSelect = document.getElementById('room-select');\r\n    this.avatarSelect = document.getElementById('avatar-select');\r\n    this.powerSelect = document.getElementById('power-select');\r\n  }\r\n\r\n  initializeSocket() {\r\n    this.socket = io();\r\n    \r\n    this.socket.on('connect', () => {\r\n      console.log('Connected to server');\r\n      this.updateConnectionStatus('Connected');\r\n    });\r\n\r\n    this.socket.on('disconnect', () => {\r\n      console.log('Disconnected from server');\r\n      this.updateConnectionStatus('Disconnected');\r\n    });\r\n\r\n    this.socket.on('message:received', (data) => {\r\n      this.displayMessage(data);\r\n    });\r\n\r\n    this.socket.on('user:join', (data) => {\r\n      this.handleUserJoin(data);\r\n    });\r\n\r\n    this.socket.on('user:leave', (data) => {\r\n      this.handleUserLeave(data);\r\n    });\r\n\r\n    this.socket.on('typing:start', (data) => {\r\n      this.showTypingIndicator(data.userId);\r\n    });\r\n\r\n    this.socket.on('typing:stop', (data) => {\r\n      this.hideTypingIndicator(data.userId);\r\n    });\r\n\r\n    this.socket.on('power:effect', (data) => {\r\n      this.handlePowerEffect(data);\r\n    });\r\n  }\r\n\r\n  bindEvents() {\r\n    // Send message\r\n    this.sendButton.addEventListener('click', () => {\r\n      this.sendMessage();\r\n    });\r\n\r\n    this.messageInput.addEventListener('keypress', (e) => {\r\n      if (e.key === 'Enter' && !e.shiftKey) {\r\n        e.preventDefault();\r\n        this.sendMessage();\r\n      }\r\n    });\r\n\r\n    // Typing indicators\r\n    this.messageInput.addEventListener('input', () => {\r\n      this.handleTyping();\r\n    });\r\n\r\n    // Room selection\r\n    this.roomSelect.addEventListener('change', (e) => {\r\n      this.joinRoom(e.target.value);\r\n    });\r\n\r\n    // Avatar selection\r\n    this.avatarSelect.addEventListener('change', (e) => {\r\n      this.changeAvatar(e.target.value);\r\n    });\r\n\r\n    // Power activation\r\n    this.powerSelect.addEventListener('change', (e) => {\r\n      this.activatePower(e.target.value);\r\n    });\r\n  }\r\n\r\n  loadUserData() {\r\n    const userData = localStorage.getItem('user');\r\n    if (userData) {\r\n      this.user = JSON.parse(userData);\r\n      this.updateUserInfo();\r\n    } else {\r\n      // Redirect to login if no user data\r\n      window.location.href = '/';\r\n    }\r\n  }\r\n\r\n  sendMessage() {\r\n    const message = this.messageInput.value.trim();\r\n    if (!message || !this.currentRoom) return;\r\n\r\n    const messageData = {\r\n      roomId: this.currentRoom,\r\n      content: message,\r\n      type: 'text'\r\n    };\r\n\r\n    this.socket.emit('message:send', messageData);\r\n    this.messageInput.value = '';\r\n    this.stopTyping();\r\n  }\r\n\r\n  displayMessage(data) {\r\n    const messageElement = document.createElement('div');\r\n    messageElement.className = 'message';\r\n    \r\n    const timestamp = new Date(data.timestamp).toLocaleTimeString();\r\n    \r\n    messageElement.innerHTML = `\r\n      <div class=\"message-header\">\r\n        <span class=\"username\">${data.username || 'Anonymous'}</span>\r\n        <span class=\"timestamp\">${timestamp}</span>\r\n      </div>\r\n      <div class=\"message-content\">${this.escapeHtml(data.content)}</div>\r\n    `;\r\n\r\n    this.messageList.appendChild(messageElement);\r\n    this.scrollToBottom();\r\n  }\r\n\r\n  handleUserJoin(data) {\r\n    const joinElement = document.createElement('div');\r\n    joinElement.className = 'system-message join';\r\n    joinElement.textContent = `${data.username || 'Anonymous'} joined the room`;\r\n    \r\n    this.messageList.appendChild(joinElement);\r\n    this.scrollToBottom();\r\n    this.updateUserList();\r\n  }\r\n\r\n  handleUserLeave(data) {\r\n    const leaveElement = document.createElement('div');\r\n    leaveElement.className = 'system-message leave';\r\n    leaveElement.textContent = `${data.username || 'Anonymous'} left the room`;\r\n    \r\n    this.messageList.appendChild(leaveElement);\r\n    this.scrollToBottom();\r\n    this.updateUserList();\r\n  }\r\n\r\n  joinRoom(roomId) {\r\n    if (this.currentRoom) {\r\n      this.socket.emit('room:leave', this.currentRoom);\r\n    }\r\n    \r\n    this.currentRoom = roomId;\r\n    this.socket.emit('room:join', roomId);\r\n    \r\n    // Clear messages\r\n    this.messageList.innerHTML = '';\r\n    \r\n    // Update room info\r\n    this.updateRoomInfo(roomId);\r\n  }\r\n\r\n  handleTyping() {\r\n    if (!this.isTyping) {\r\n      this.isTyping = true;\r\n      this.socket.emit('typing:start', this.currentRoom);\r\n    }\r\n\r\n    clearTimeout(this.typingTimeout);\r\n    this.typingTimeout = setTimeout(() => {\r\n      this.stopTyping();\r\n    }, 3000);\r\n  }\r\n\r\n  stopTyping() {\r\n    if (this.isTyping) {\r\n      this.isTyping = false;\r\n      this.socket.emit('typing:stop', this.currentRoom);\r\n    }\r\n  }\r\n\r\n  showTypingIndicator(userId) {\r\n    if (userId !== this.socket.id) {\r\n      this.typingIndicator.textContent = 'Someone is typing...';\r\n      this.typingIndicator.style.display = 'block';\r\n    }\r\n  }\r\n\r\n  hideTypingIndicator(userId) {\r\n    if (userId !== this.socket.id) {\r\n      this.typingIndicator.style.display = 'none';\r\n    }\r\n  }\r\n\r\n  changeAvatar(avatarId) {\r\n    // Update user avatar\r\n    this.socket.emit('avatar:change', { avatarId });\r\n  }\r\n\r\n  activatePower(powerId) {\r\n    if (this.currentRoom) {\r\n      this.socket.emit('power:activate', {\r\n        roomId: this.currentRoom,\r\n        powerId: powerId\r\n      });\r\n    }\r\n  }\r\n\r\n  handlePowerEffect(data) {\r\n    // Handle power effects (animations, sounds, etc.)\r\n    console.log('Power effect:', data);\r\n    \r\n    // Example: Play sound effect\r\n    if (data.sound) {\r\n      this.playSound(data.sound);\r\n    }\r\n    \r\n    // Example: Show animation\r\n    if (data.animation) {\r\n      this.showAnimation(data.animation);\r\n    }\r\n  }\r\n\r\n  playSound(soundFile) {\r\n    const audio = new Audio(`/sounds/${soundFile}`);\r\n    audio.play().catch(e => console.log('Audio play failed:', e));\r\n  }\r\n\r\n  showAnimation(animationType) {\r\n    // Create animation element\r\n    const animationElement = document.createElement('div');\r\n    animationElement.className = `power-animation ${animationType}`;\r\n    this.chatContainer.appendChild(animationElement);\r\n    \r\n    // Remove after animation\r\n    setTimeout(() => {\r\n      animationElement.remove();\r\n    }, 3000);\r\n  }\r\n\r\n  updateConnectionStatus(status) {\r\n    const statusElement = document.getElementById('connection-status');\r\n    if (statusElement) {\r\n      statusElement.textContent = status;\r\n      statusElement.className = `status ${status.toLowerCase()}`;\r\n    }\r\n  }\r\n\r\n  updateUserInfo() {\r\n    const userInfoElement = document.getElementById('user-info');\r\n    if (userInfoElement && this.user) {\r\n      userInfoElement.innerHTML = `\r\n        <span class=\"username\">${this.user.username}</span>\r\n        <span class=\"level\">Level ${this.user.level || 1}</span>\r\n      `;\r\n    }\r\n  }\r\n\r\n  updateRoomInfo(roomId) {\r\n    if (this.roomInfo) {\r\n      this.roomInfo.innerHTML = `\r\n        <h3>Room: ${roomId}</h3>\r\n        <span class=\"user-count\">0 users</span>\r\n      `;\r\n    }\r\n  }\r\n\r\n  updateUserList() {\r\n    // This would be populated with actual user data from the server\r\n    if (this.userList) {\r\n      this.userList.innerHTML = '<div class=\"user-item\">Loading users...</div>';\r\n    }\r\n  }\r\n\r\n  scrollToBottom() {\r\n    this.messageList.scrollTop = this.messageList.scrollHeight;\r\n  }\r\n\r\n  escapeHtml(text) {\r\n    const div = document.createElement('div');\r\n    div.textContent = text;\r\n    return div.innerHTML;\r\n  }\r\n}\r\n\r\n// Initialize the chat app when DOM is loaded\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  new ChatApp();\r\n});\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 377;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t377: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkxat_recreation\"] = self[\"webpackChunkxat_recreation\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [96], () => (__webpack_require__(500)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","ChatApp","_classCallCheck","this","socket","currentRoom","user","isTyping","typingTimeout","initializeElements","initializeSocket","bindEvents","loadUserData","key","value","chatContainer","document","getElementById","messageList","messageInput","sendButton","roomInfo","userList","typingIndicator","roomSelect","avatarSelect","powerSelect","_this","io","on","console","log","updateConnectionStatus","data","displayMessage","handleUserJoin","handleUserLeave","showTypingIndicator","userId","hideTypingIndicator","handlePowerEffect","_this2","addEventListener","sendMessage","e","shiftKey","preventDefault","handleTyping","joinRoom","target","changeAvatar","activatePower","userData","localStorage","getItem","JSON","parse","updateUserInfo","window","location","href","message","trim","messageData","roomId","content","type","emit","stopTyping","messageElement","createElement","className","timestamp","Date","toLocaleTimeString","innerHTML","concat","username","escapeHtml","appendChild","scrollToBottom","joinElement","textContent","updateUserList","leaveElement","updateRoomInfo","_this3","clearTimeout","setTimeout","id","style","display","avatarId","powerId","sound","playSound","animation","showAnimation","soundFile","Audio","play","animationType","animationElement","remove","status","statusElement","toLowerCase","userInfoElement","level","scrollTop","scrollHeight","text","div","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","length","fulfilled","j","Object","keys","every","splice","r","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","push","__webpack_exports__"],"sourceRoot":""}